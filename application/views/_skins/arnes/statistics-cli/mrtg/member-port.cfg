{$tag    = "`$c->getShortname()`-`$pi->getMonitorindex()`"}
{$mrtgId = $pi->getSwitchPort()->ifnameToSNMPIdentifier()}
{$custPorts[] = $mrtgId}
{$custLagPorts[] = $mrtgId}
{$port   = $pi->getSwitchPort()}
{$switch = $pi->getSwitchPort()->getSwitcher()}
{$custPortsAggregateSpeed = $custPortsAggregateSpeed + $pi->getSpeed()}
{$custLagPortsAggregateSpeed = $custLagPortsAggregateSpeed + $pi->getSpeed()}

# {$c->getName()} - {$tag} - bits in/out
Target[{$tag}-bits]: #{$mrtgId}:{$switch->getSnmppasswd()}@{$switch->getHostname()}:::::2
{$custPorts.bits[] = "#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2"}
{$custLagPorts.bits[] = "#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2"}
MaxBytes[{$tag}-bits]: {$pi->getSpeed() * 1000000 / 8}
Directory[{$tag}-bits]: members/{$c->getShortname()}
Title[{$tag}-bits]: {$c->getAbbreviatedName()} -- {$port->getName()} -- {$switch->getName()} -- bits in/out

# {$c->getName()} - {$tag} - packets in/out
Target[{$tag}-pkts]: ifInUcastPkts#{$mrtgId}&ifOutUcastPkts#{$mrtgId}:{$switch->getSnmppasswd()}@{$switch->getHostname()}:::::2
{$custPorts.packets[] = "ifInUcastPkts#`$mrtgId`&ifOutUcastPkts#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2"}
{$custLagPorts.packets[] = "ifInUcastPkts#`$mrtgId`&ifOutUcastPkts#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2"}
MaxBytes[{$tag}-pkts]: {round($pi->getSpeed() * 1000000 / 8 / 64)}
Directory[{$tag}-pkts]: members/{$c->getShortname()}
Options[{$tag}-pkts]: growright
YLegend[{$tag}-pkts]: Packets/Second
Title[{$tag}-pkts]: {$c->getAbbreviatedName()} -- {$port->getName()} -- {$switch->getName()} -- packets in/out

# {$c->getName()} - {$tag} - errors in/out
Target[{$tag}-errs]: ifInErrors#{$mrtgId}&ifOutErrors#{$mrtgId}:{$switch->getSnmppasswd()}@{$switch->getHostname()}:::::2 * 300
{$custPorts.errors[] = "ifInErrors#`$mrtgId`&ifOutErrors#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2 * 300"}
{$custLagPorts.errors[] = "ifInErrors#`$mrtgId`&ifOutErrors#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2 * 300"}
MaxBytes[{$tag}-errs]: {round($pi->getSpeed() * 1000000 / 8 / 64)}
Directory[{$tag}-errs]: members/{$c->getShortname()}
Options[{$tag}-errs]: growright
YLegend[{$tag}-errs]: Errors/5 min
Title[{$tag}-errs]: {$c->getAbbreviatedName()} -- {$port->getName()} -- {$switch->getName()} -- errors in/out

# {$c->getName()} - {$tag} - discards in/out
Target[{$tag}-discs]: ifInDiscards#{$mrtgId}&ifOutDiscards#{$mrtgId}:{$switch->getSnmppasswd()}@{$switch->getHostname()}:::::2 * 300
{$custPorts.discards[] = "ifInDiscards#`$mrtgId`&ifOutDiscards#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2 * 300"}
{$custLagPorts.discards[] = "ifInDiscards#`$mrtgId`&ifOutDiscards#`$mrtgId`:`$switch->getSnmppasswd()`@`$switch->getHostname()`:::::2 * 300"}
MaxBytes[{$tag}-discs]: {round($pi->getSpeed() * 1000000 / 8 / 10)}
Directory[{$tag}-discs]: members/{$c->getShortname()}
Options[{$tag}-discs]: growright
YLegend[{$tag}-discs]: Discards/5 min
Title[{$tag}-discs]: {$c->getAbbreviatedName()} -- {$port->getName()} -- {$switch->getName()} -- discards in/out
