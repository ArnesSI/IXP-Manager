{assign var="comma" value=""}
[
{if not $proto or $proto eq 4}
{foreach $v4ints as $int}
{$comma}
{
    "address": "{$int.address}",
    "autsys": "{$int.autsys}",
    "name": "{$int.cname}",
    "shortname": "{$int.cshortname}",
    "peeringmacro": "{$int.peeringmacro}",
    "vliid": {$int.vliid},
    "location_name": "{$int.location_name}",
    "location_shortname": "{$int.location_shortname}",
    "location_tag": "{$int.location_tag}",
    "rsclient": {if $int.rsclient}true{else}false{/if},
    "irrdbfilter": {if $int.irrdbfilter}true{else}false{/if}

}
{assign var="comma" value=", "}
{/foreach}
{/if}
{if not $proto or $proto eq 6}
{foreach $v6ints as $int}
{$comma}
{
    "address": "{$int.address}",
    "autsys": "{$int.autsys}",
    "name": "{$int.cname}",
    "shortname": "{$int.cshortname}",
    "vliid": {$int.vliid},
    "location_name": "{$int.location_name}",
    "location_shortname": "{$int.location_shortname}",
    "location_tag": "{$int.location_tag}",
    "rsclient": {if $int.rsclient}true{else}false{/if},
    "irrdbfilter": {if $int.irrdbfilter}true{else}false{/if}

}
{assign var="comma" value=", "}
{/foreach}
{/if}
]
